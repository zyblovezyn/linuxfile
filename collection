2019-03-30
	duplicate 重复
	declare duplicate_key condition for 1062;
	declare continue handler for duplicate_key set variable=1;

2019-04-01
	YEAR   		 1byte
	DATE	        3byte
	TIME		3byte+fractional seconds storage
	DATETIME	5byte+fractional seconds storage	
	TIMESTAMP	4byte+franctional seconds storage

	Fractional Seconds Precison	Storage Required
	0				0 bytes
	1,2				1 byte
	3,4				2 bytes
	5,6				3 bytes


	Data Type	Storage Required
	TINYINT		1 byte
	SMALLINT	2 bytes
	MEDIUMINT	3 bytes
	INT, INTEGER	4 bytes
	BIGINT		8 bytes
	FLOAT(p)	4 bytes if 0 <= p <= 24, 8 bytes if 25 <= p <= 53
	FLOAT		4 bytes
	DOUBLE [PRECISION], REAL	8 bytes
	DECIMAL(M,D), NUMERIC(M,D)	
	BIT(M)	approximately (M+7)/8 bytes


	CMS concurrent mark sweep 收集器
	
	decimal(18,9) 小数点前面9位数4个字节 小数点后面9个数4个字节 小数点一个字节 总用9个字节
	使用枚举类型(ENUM)代替字符串类型 枚举列可以把一些不重复的字符串存储成一个预定义的集合。MySQL在存储枚举是非常紧凑，会根据列表值得数量压缩到一个或两个字节中。
	create table enum_table(
	  e enum('fish','dog','apple') not null
	);
	inert into enum_table(e) values('dog'),('apple'),('fish');
	
2019-04-02
	mysql把bit当做字符串类型，最多可以存储64位
	整数作为标识符是最好的选择
	避免使用字符串作为标识，因为比数字慢，在myisam中对字符串标识列使用压缩索引，导致查询很慢，测试表示，最多慢6倍

	如果希望查询性能比较好，最好限制在12个关联查询之内
	mysql在索引中存储null值，oracle则不会
	创建表结构 create table a_copy_tbl like a_tbl;
	rename table tbl_name to new_tbl;
	所有的modify column都将导致重建表
	alter table tbl modify column col_name tinyint(3) not null default 5;速度比较慢导致了重建表
	alter table tbl alter column col_name set default 5;没有导致重建表
	
	-XX:+PrintGCDetails 这个参数告诉虚拟机在发生垃圾收集行为时打印内存回收日志。

	-Xms 堆的最小值
	-Xmx 堆的最大值
	-Xss 栈大小
	-XX:+HeapDumpOnOutOfMemoryError 可以让虚拟机在出现内存溢出异常时Dump出当前内存堆转储快照以便事后
	进行分析

	Memory leak 内存泄漏
	Memory Overflow 内存溢出

	如果线程请求的栈深度大于虚拟机所允许的最大深度，将抛出StackOverflowEror异常
	如果虚拟机在扩展栈时无法申请到足够的内存空间，则抛出OutOfMemoryError异常

	MaxPermSize 最大方法区容量

	由于常量池分配在永久代内，我们可以通过-XX:PermSize和-XX:MaxPermSize限制方法区大小，从而间接限制>其中常量池的容量

	-XX:MaxDirectMemorySize 本机直接内存最大值 如果不指定与Java堆最大值(-Xms指定)一样

	程序计数器、虚拟机栈、本地方法栈3个区域随线程而生，随线程而灭。

	新生代GC(Minor GC):指发生在新生代的垃圾收集动作，因为Java对象大多都具备朝生夕死的特性，所以Minor GC非常频繁，一般回收速度也非常快。
	老年代GC(Major GC/Full GC):指发生在老年代的GC，出现Major GC，经常会伴随至少一次的Minor GC(但并非绝对)，Major GC的速度一般会比Minor GC的速度慢10倍以上。
	对象进入老年代的阈值，可以通过参数-XX:MaxTenuringThreshold:num设置。
	jps JVM process status tool,显示指定系统内所有的HotSpot虚拟机进程
	    主要参数:-q 输出LVMID，省略主类的名称
	    	     -m 输出虚拟机进程启动时传递给主类main()函数的参数
		     -l 输出主类的全名，如果程序执行的时Jar包，输出Jar路径
		     -v 输出虚拟机进程启动时JVM参数
	jstat JVM Statistics Monitoring Tool 监视虚拟机运行状态信息的命令行工具





